{% extends 'base.html' %}
{% load staticfiles %}

{% block body %}
  <body onkeydown="whichButton(event)" onload="lienzo()">
    <h1>Â¡Maze!</h1>
    <img id="ima" width="50px" height="50px" src="{%static 'img/characters/batman2.jpg'%}">
    <canvas id="myCanvas" width="500" height="500" style="border:1px solid #000000;background-color:#87CEEB;">
    Tu navegador no soporta canvas</canvas>
  </body>
{% endblock %}

{% block scripts %}
  <script>
          var x=200, y=400;//coordenadas iniciales de la imagen
          function lienzo()
          {
              var c=document.getElementById("myCanvas");
              var ctx=c.getContext("2d");
              var img=document.getElementById("ima");
              ctx.clearRect(0,0,500,500);//limpia todo el canvas
              ctx.drawImage(img,x,y);//dibuja la imagen
          }

          //cuando presiona una tecla
          function whichButton(event)
          {
              if(event.keyCode=='39')
              {//si la tecla presionada es direccional derecho
                x=x+5;//mueve la nave 5 pixeles a la derecha
                lienzo();
              }

              if(event.keyCode=='37')
              {//si la tecla presionada es direccional izquierdo
                x=x-5;//mueve la nave 5 pixeles a la izquierda
                lienzo();
              }

              if(event.keyCode=='38')
              {//si la tecla presionada es direccional arriba
                y=y-5;//sube
                lienzo();
              }

              if(event.keyCode=='40')
              {// si la tecla presionada es direccional abajo
                y=y+5;//baja
                lienzo();
              }
          }
  </script>

{% endblock scripts %}
